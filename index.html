<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Kanban Roadmap</title>
  <style>
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px 12px;
      text-align: left;
    }
    th {
      background: #f4f4f4;
    }
  </style>
</head>
<body>
  <h1>Kanban Roadmap</h1>
  <table id="roadmap">
    <thead>
      <tr>
        <th>Entrega</th>
        <th>Fase</th>
        <th>Início</th>
        <th>Fim</th>
      </tr>
    </thead>
    <tbody>
      <!-- Linhas serão preenchidas pelo JS -->
    </tbody>
  </table>

  <script>
    const dados = [
      {Entrega: "Múltiplas adquirentes", Fase: "Discovery", Inicio: "2024", Fim: "31/12/2025"},
      {Entrega: "Pix automático", Fase: "Discovery", Inicio: "2024", Fim: "30/06/2025"},
      {Entrega: "Unificação Navision", Fase: "Discovery", Inicio: "01/04/2025", Fim: "31/12/2025"},
      {Entrega: "Unificação Salesforce", Fase: "Discovery", Inicio: "01/04/2025", Fim: "31/12/2025"},
      {Entrega: "FCV Salesforce", Fase: "Discovery", Inicio: "01/04/2025", Fim: "30/06/2025"},
      {Entrega: "Adoção B2C", Fase: "Refinamento", Inicio: "2024", Fim: "31/12/2025"},
      {Entrega: "Backoffice Plataforma", Fase: "Refinamento", Inicio: "2024", Fim: "31/12/2025"},
      {Entrega: "Projeto redução de perdas", Fase: "Refinamento", Inicio: "2024", Fim: "31/09/2025"},
      {Entrega: "Redução de cancelamentos B2B", Fase: "Refinamento", Inicio: "01/04/2025", Fim: "31/09/2025"},
      {Entrega: "Analytics B2C", Fase: "Finalizado", Inicio: "01/03/2025", Fim: "30/03/2025"},
      {Entrega: "Adoção B2B", Fase: "Finalizado", Inicio: "2024", Fim: "31/03/2025"},
      {Entrega: "PCI 2025", Fase: "Finalizado", Inicio: "01/04/2025", Fim: "30/06/2025"}
    ];

    function parseData(data) {
      if (!data) return new Date(0);
      if (/^\d{4}$/.test(data)) {
        // Apenas ano
        return new Date(`${data}-01-01`);
      }
      if (/^\d{2}\/\d{2}\/\d{4}$/.test(data)) {
        // Formato dd/mm/yyyy
        const [dia, mes, ano] = data.split("/");
        return new Date(`${ano}-${mes}-${dia}`);
      }
      return new Date(data);
    }

    // Ordena pelo campo "Inicio" (data mais antiga primeiro)
    dados.sort((a, b) => parseData(a.Inicio) - parseData(b.Inicio));

    const tbody = document.querySelector("#roadmap tbody");
    dados.forEach(item => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${item.Entrega}</td>
        <td>${item.Fase}</td>
        <td>${item.Inicio}</td>
        <td>${item.Fim}</td>
      `;
      tbody.appendChild(tr);
    });
  </script>
</body>
</html>
